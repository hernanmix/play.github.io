<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Reproductor Fullscreen</title>
  <script src="//cdn.jsdelivr.net/npm/@clappr/player@0.8/dist/clappr.min.js"></script>
  <script src="//cdn.jsdelivr.net/npm/@swarmcloud/hls/p2p-engine.min.js"></script>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      overflow: hidden;
    }
    #player {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: #000;
}

#logo {
  position: absolute; /* importante: ahora dentro del player */
  top: 10px;
  right: 80px;
  z-index: 9999;
}

#logo img {
  width: 80px;
  height: auto;
  opacity: 0.9;
}
}
    /* Ajuste de la barra */
    .media-control[data-media-control] 
    .media-control-layer[data-controls] 
    .bar-container[data-seekbar] 
    .bar-background[data-seekbar] {
      height: 5px !important;
    }
    .media-control[data-media-control] 
    .media-control-layer[data-controls] 
    .bar-container[data-seekbar]:hover 
    .bar-background[data-seekbar] {
      height: 7px !important;
      
  </style>
</head>
<body>
  <div id="player">
  <!-- Logo flotante dentro del reproductor -->
  <div id="logo">
    <img src="https://i.ibb.co/sJmvqM4T/1000170748.png" alt="Logo">
  </div>
</div>


  <script>
    // Lista de URLs de tus streams
    const canales = {
      "espn": "https://wp9xqedt.fubohd.com:443/espn/mono.m3u8?token=0294f0647ac90f54bff14676ae92c8739b4a2d6b-fb-1757694490-1757676490",
      "espn2": "https://anvtcax.fubohd.com:443/espn2/mono.m3u8?token=6b62c80f81be83bbfc0a8afa73bf21cc665073a9-25-1757694528-1757676528",
      "espn3": "https://ym9yzq.fubohd.com:443/espn3/mono.m3u8?token=633f413f6c30e8737cfb8eb838aff3f94e363cf6-53-1757694559-1757676559",
      "espn4": "https://a2vlca.fubohd.com:443/espn4/mono.m3u8?token=3b5bee88ed3de378e699bab084da759b4fa9c826-e2-1757694591-1757676591",
      "espn5": "https://a2vlca.fubohd.com:443/espn4/mono.m3u8?token=3b5bee88ed3de378e699bab084da759b4fa9c826-e2-1757694591-1757676591",
      "espn6": "",
      "espn7": "",
      "Dsports": "",
      "Dsports2": "",
      "Dsportsplus": "",
      "goltv": "",
      "vtvplus": "",
      "ecdfligapro": "https://lgair.envivotv.live/event1/tracks-v1a1/mono.m3u8?remote=45.224.153.13&token=4f1698fcc02360218ac2fda27317c3761006358d-9b33b30b50b6863afb987207daabe3b9-1757733915-1757723115",
      "foxsports": "",
      "foxsports2": "",
      "foxsports3": "",
      "tntsportsar": "https://ym9yzq.fubohd.com/tntsports/mono.m3u8?token=ab92b1a3c536765fb84002c93d1eb12f8720927e-cd-1757727126-1757709126",
      "espnpremium": "https://tyg2mnl9.fubohd.com/espnpremium/mono.m3u8?token=0a8d6243f45d8b58c73b3344e5b87e5cfc6dfa01-53-1757727911-1757709911",
      "tycsports": "",
      "tycinternacional": "",
      "telefe": "",
      "tvpublica": "",
      "golperu": "",
      "liga1max": "https://98ca2.crackstreamslivehd.com/liga1max/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=0f13d54a3cd6869e68d6e7b69eaafd4943f33429-20-1757850704-1757796704",
      "movistar": "",
      "winplus": "",
      "winsports2": "https://florcd1.crackstreamslivehd.com:443/winplus2/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=52e7098ab00b92f6fd926eb9382f688a78e9470b-48-1757849992-1757795992",
      "winsports": "",
      "foxsportsmx": "",
      "foxsports2mx": "",
      "foxsports3mx": "",
      "foxsportspremium": "http://cdn1501.cdnfree.live:2052/free15/330/playlist.m3u8?wmsAuthSign=c2VydmVyX3RpbWU9OS8xMy8yMDI1IDEwOjQ1OjA1IFBNJmhhc2hfdmFsdWU9UG41Zmh1L0tQNGhIeHdqR0h6VmFpdz09JnZhbGlkbWludXRlcz0yNDA=",
      "tudn": "https://gzleo.envivotv.live/event3/tracks-v1a1/mono.m3u8?remote=45.224.153.13&token=4cf9c2ce0af045b6b54c28b99440c63919e13140-ba0e8ab87142ab59afde923316ca20cb-1757736225-1757725425",
      "espnmx": "",
      "espn2mx": "",
      "espn3mx": "",
      "espn4mx": "",
      "calientetv": "",
      "azteca7": "",
      "canal5": "",
      "tvcdeportes": "",
      "aztecadeportes": "",
      "hisports": "",
      "skylaliga": "",
      "skybundesliga": "",
      "foxdeportes": "",
      "espndeportes": "",
      "tudnusa": "https://51a1.crackstreamslivehd.com:443/tudn_usa/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=d39e6fd943210455a448491c89f9c50d3dd606ba-2a-1757849896-1757795896",
      "univision": "",
      "foxdeportes1usa": "",
      "foxdeportes2usa": "",
      "tntsportschile": "https://24a1.crackstreamslivehd.com:443/tntsportschile/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=4660c3e88d17b79f1a2920332765f03f58d3434f-4e-1757754375-1757700375",
      "disney1": "https://99a1.crackstreamslivehd.com/disney1/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=df8e7e1388d523fa68de9290dc70b0547ec5a75b-8a-1757808108-1757754108",
      "disney3": "https://ca8s9.crackstreamslivehd.com/disney3/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=cd4e731dbb8f3575a5d2e693c6b644ce6b152c66-b6-1757808422-1757754422",
      "disney19": "https://pecdl1.crackstreamslivehd.com:443/disney19/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=e570f3e9bd550b78e79f1466f9db3011e49c776b-6e-1757808739-1757754739",
      "disney4": "https://24a1.crackstreamslivehd.com/disney4/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=74fa70b9953be7fad939dcad05bbabfed27efe73-16-1757809160-1757755160",
      "disney5": "https://57b1.crackstreamslivehd.com/disney5/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=c456169f8e794706968f9d72711013e6bf092d0c-18-1757812881-1757758881",
      "disney2": "https://doc1.crackstreamslivehd.com:443/disney2/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=9e6a5b00621295a2191fada28b1f754a78cde335-28-1757817721-1757763721",
      "disney15": "https://8c51.crackstreamslivehd.com:443/disney15/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=2017572865d87f866b984a93093787500492af7b-64-1757817857-1757763857",
      "disney9": "https://98ca2.crackstreamslivehd.com:443/disney9/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=e0bf42580cf698e6ee54087b9d61ecfc49efdd81-15-1757825507-1757771507",
      "disney10": "https://florcd1.crackstreamslivehd.com:443/disney10/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=48ecd590cac765dacfd6d616151e179daf259d99-4e-1757825757-1757771757",
      "disney12": "https://pecdl1.crackstreamslivehd.com:443/disney12/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=0d38d042db0df85552cb3acadb725178e22a3462-4a-1757825946-1757771946",
      "disney17": "https://57b1.crackstreamslivehd.com/disney17/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=6762bf715eebcb00a113bf119a40d6f4116c5952-a7-1757833761-1757779761",
      "epnplus1": "https://pecdl1.crackstreamslivehd.com:443/espnplus1/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=943444d41c4cc618664516b1ab02f7e40fd820d3-23-1757833859-1757779859",
      "usanetwork": "https://ca8s9.crackstreamslivehd.com:443/usa_network/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=a38e3b5a9aa12db474eb772b9c57672b6cd6ccd0-83-1757834124-1757780124",
      "mls1es": "https://14c51.crackstreamslivehd.com:443/mls1es/tracks-v1a1/mono.m3u8?ip=45.224.153.13&token=89e83d41e28ae6d52afbe63579ca433096367746-d9-1757850763-1757796763",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": "",
      "espn4": ""    
      };

    // Obtener parámetros de la URL
  const params = new URLSearchParams(window.location.search);
  const playParam = params.get("play");
  const rParam = params.get("r");

  let playbackURL = "";

  if (rParam) {
    // Si viene en Base64 → decodificar
    playbackURL = atob(rParam);
  } else if (playParam) {
    // Si viene como texto → buscar en la lista
    playbackURL = canales[playParam] || "";
    // Opcional: actualizar la URL a formato Base64
    if (playbackURL) {
      const base64URL = btoa(playbackURL);
      const nuevaURL = window.location.origin + window.location.pathname + "?r=" + base64URL;
      window.history.replaceState({}, "", nuevaURL);
    }
  }

  // Si no hay URL válida, mostrar error
  if (!playbackURL) {
    document.body.innerHTML = "<h2 style='color:white;text-align:center;margin-top:20%'>Canal no disponible</h2>";
  } else {
    // Configuración P2P
    const p2pConfig = { live: true, trackerZone: "us" };

    P2PEngineHls.tryRegisterServiceWorker(p2pConfig).then(() => {
      const player = new Clappr.Player({
        source: playbackURL,
        parentId: "#player",
        width: "100%",
        height: "100%",
        autoPlay: true,
        mediacontrol: { seekbar: "#D4ED31", buttons: "#FFFFFF" }
        
    });

    p2pConfig.hlsjsInstance = player.core.getCurrentPlayback()?._hls;
    const engine = new P2PEngineHls(p2pConfig);
  });
  }
  </script>

  <script>
  // Detectar cuando Clappr entra en fullscreen
  const playerContainer = document.getElementById('player');

  // Función para forzar landscape en fullscreen
  function lockLandscape() {
    if (screen.orientation && screen.orientation.lock) {
      screen.orientation.lock('landscape').catch(err => {
        console.log('No se pudo bloquear orientación:', err);
      });
    }
  }

  // Escuchar eventos de fullscreen
  playerContainer.addEventListener('fullscreenchange', () => {
    if (document.fullscreenElement) {
      lockLandscape(); // intento de bloquear horizontal
    }
  });

  // Para Chrome/Safari antiguos
  playerContainer.addEventListener('webkitfullscreenchange', () => {
    if (document.webkitFullscreenElement) lockLandscape();
  });
  playerContainer.addEventListener('mozfullscreenchange', () => {
    if (document.mozFullScreenElement) lockLandscape();
  });
  playerContainer.addEventListener('msfullscreenchange', () => {
    if (document.msFullscreenElement) lockLandscape();
  });
    const logo = document.getElementById('logo');

document.addEventListener('fullscreenchange', () => {
  if (document.fullscreenElement) {
    document.fullscreenElement.appendChild(logo);
  } else {
    document.body.appendChild(logo); // volver a su lugar cuando se salga
  }
});

</script>


  <!-- Bloqueador de anuncios -->
  <script src="https://ads.tiogol.com/block.js?v=1.1"></script>
</body>
</html>
